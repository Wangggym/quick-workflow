# å¼€å‘è§„èŒƒæ–‡æ¡£

> æœ¬æ–‡æ¡£å®šä¹‰äº† qkflow é¡¹ç›®çš„å¼€å‘è§„èŒƒå’Œæœ€ä½³å®è·µï¼Œæ‰€æœ‰è´¡çŒ®è€…éƒ½åº”éµå¾ªè¿™äº›è§„èŒƒã€‚

---

## ğŸ“‹ ç›®å½•

- [ä»£ç é£æ ¼](#-ä»£ç é£æ ¼)
- [é”™è¯¯å¤„ç†](#-é”™è¯¯å¤„ç†)
- [æ–‡æ¡£è§„èŒƒ](#-æ–‡æ¡£è§„èŒƒ)
- [å‘½åè§„èŒƒ](#-å‘½åè§„èŒƒ)
- [æ¨¡å—ç»„ç»‡](#-æ¨¡å—ç»„ç»‡)
- [Git å·¥ä½œæµ](#-git-å·¥ä½œæµ)
- [æäº¤è§„èŒƒ](#-æäº¤è§„èŒƒ)
- [æµ‹è¯•è§„èŒƒ](#-æµ‹è¯•è§„èŒƒ)
- [ä»£ç å®¡æŸ¥](#-ä»£ç å®¡æŸ¥)
- [ä¾èµ–ç®¡ç†](#-ä¾èµ–ç®¡ç†)
- [å¼€å‘å·¥å…·](#-å¼€å‘å·¥å…·)

---

## ğŸ¨ ä»£ç é£æ ¼

### ä»£ç æ ¼å¼åŒ–

æ‰€æœ‰ä»£ç å¿…é¡»ä½¿ç”¨ `gofmt` è¿›è¡Œæ ¼å¼åŒ–ï¼š

```bash
# è‡ªåŠ¨æ ¼å¼åŒ–ä»£ç 
go fmt ./...

# æˆ–ä½¿ç”¨ Makefile
make fmt
```

**è§„åˆ™**ï¼š
- æäº¤å‰å¿…é¡»è¿è¡Œ `go fmt`
- CI/CD ä¼šæ£€æŸ¥ä»£ç æ ¼å¼ï¼Œæ ¼å¼ä¸æ­£ç¡®ä¼šå¯¼è‡´æ„å»ºå¤±è´¥
- ä½¿ç”¨ Go å®˜æ–¹æ ‡å‡†æ ¼å¼

### Lint æ£€æŸ¥

ä½¿ç”¨ `golangci-lint` è¿›è¡Œä»£ç è´¨é‡æ£€æŸ¥ï¼š

```bash
# è¿è¡Œ lint æ£€æŸ¥
golangci-lint run

# æˆ–ä½¿ç”¨ Makefile
make lint
```

**è§„åˆ™**ï¼š
- æ‰€æœ‰è­¦å‘Šå¿…é¡»ä¿®å¤
- ç¦æ­¢ä½¿ç”¨ `//nolint` é™¤éæœ‰å……åˆ†ç†ç”±ï¼Œå¹¶æ·»åŠ æ³¨é‡Šè¯´æ˜
- å®šæœŸè¿è¡Œ `golangci-lint` æ£€æŸ¥ä»£ç è´¨é‡

### Go å‘½åçº¦å®š

éµå¾ª Go å®˜æ–¹å‘½åçº¦å®šï¼š

- **åŒ…å**ï¼šå°å†™å­—æ¯ï¼Œç®€çŸ­ï¼ˆå¦‚ `github`ã€`jira`ã€`git`ï¼‰
- **å‡½æ•°å**ï¼šé©¼å³°å‘½åï¼Œå…¬å¼€å‡½æ•°é¦–å­—æ¯å¤§å†™ï¼ˆå¦‚ `CreatePullRequest`ã€`GetIssue`ï¼‰
- **å˜é‡å**ï¼šé©¼å³°å‘½åï¼Œå…¬å¼€å˜é‡é¦–å­—æ¯å¤§å†™ï¼ˆå¦‚ `Client`ã€`Config`ï¼‰
- **å¸¸é‡å**ï¼šé©¼å³°å‘½åï¼Œå…¬å¼€å¸¸é‡é¦–å­—æ¯å¤§å†™ï¼ˆå¦‚ `DefaultTimeout`ã€`MaxRetries`ï¼‰
- **ç±»å‹å**ï¼šé©¼å³°å‘½åï¼Œé¦–å­—æ¯å¤§å†™ï¼ˆå¦‚ `HttpClient`ã€`JiraTicket`ï¼‰
- **æ¥å£å**ï¼šé©¼å³°å‘½åï¼Œé¦–å­—æ¯å¤§å†™ï¼Œé€šå¸¸ä»¥ `er` ç»“å°¾ï¼ˆå¦‚ `Reader`ã€`Writer`ï¼‰æˆ–æè¿°æ€§åç§°ï¼ˆå¦‚ `PlatformProvider`ï¼‰

### ä»£ç ç»„ç»‡

#### å¯¼å…¥é¡ºåº

1. æ ‡å‡†åº“å¯¼å…¥
2. ç¬¬ä¸‰æ–¹åº“å¯¼å…¥
3. é¡¹ç›®å†…éƒ¨å¯¼å…¥

æ¯ç»„å¯¼å…¥ä¹‹é—´ç”¨ç©ºè¡Œåˆ†éš”ï¼š

```go
package github

import (
	"context"
	"fmt"
	"strings"

	"github.com/google/go-github/v57/github"
	"golang.org/x/oauth2"

	"github.com/Wangggym/quick-workflow/internal/config"
)
```

#### æ–¹æ³•ç»„ç»‡æ¨¡å¼

ä½¿ç”¨æ³¨é‡Šåˆ†éš”ç¬¦æ¥æ¸…æ™°åœ°åŒºåˆ†å…¬å…±æ–¹æ³•å’Œç§æœ‰æ–¹æ³•ï¼Œæé«˜ä»£ç å¯è¯»æ€§ï¼š

```go
package http

import (
	"fmt"
	"sync"
	"time"

	"github.com/go-resty/resty/v2"
)

var (
	globalClient *HttpClient
	once         sync.Once
)

// HttpClient HTTP å®¢æˆ·ç«¯å°è£…
type HttpClient struct {
	client *resty.Client
}

// ------------------- Public Methods -------------------
// å¤–éƒ¨è®¿é—®

// Global è·å–å…¨å±€ HttpClient å•ä¾‹
// å¤–éƒ¨åº”è¯¥ç»Ÿä¸€ä½¿ç”¨æ­¤æ–¹æ³•è·å– HTTP å®¢æˆ·ç«¯å®ä¾‹
func Global() *HttpClient {
	once.Do(func() {
		globalClient = newClient()
	})
	return globalClient
}

// SetTimeout è®¾ç½®å®¢æˆ·ç«¯è¶…æ—¶æ—¶é—´
func (c *HttpClient) SetTimeout(timeout time.Duration) *HttpClient {
	c.client.SetTimeout(timeout)
	return c
}

// Get GET è¯·æ±‚
func (c *HttpClient) Get(url string, config *RequestConfig) (*HttpResponse, error) {
	// ...
}

// ------------------- Private Methods -------------------
// å†…éƒ¨æ–¹æ³•

// newClient åˆ›å»ºæ–°çš„ HttpClientï¼ˆå†…éƒ¨ä½¿ç”¨ï¼‰
// å¤–éƒ¨åº”è¯¥ä½¿ç”¨ Global() æ–¹æ³•è·å–å•ä¾‹å®ä¾‹
func newClient() *HttpClient {
	// ...
}

// buildRequest æ„å»ºè¯·æ±‚
func (c *HttpClient) buildRequest(method string, url string, config *RequestConfig) *resty.Request {
	// ...
}
```

**ä¼˜åŠ¿**ï¼š
- âœ… æ¸…æ™°åœ°åŒºåˆ†å…¬å…± API å’Œå†…éƒ¨å®ç°
- âœ… æé«˜ä»£ç å¯è¯»æ€§å’Œå¯ç»´æŠ¤æ€§
- âœ… ä¾¿äºå¿«é€Ÿå®šä½å…¬å…±æ–¹æ³•
- âœ… ç¬¦åˆå¤§å‹é¡¹ç›®çš„ä»£ç ç»„ç»‡è§„èŒƒ
- âœ… ä¾¿äºä»£ç å®¡æŸ¥å’Œç»´æŠ¤

**æ³¨æ„äº‹é¡¹**ï¼š
- åˆ†éš”ç¬¦åº”è¯¥è¶³å¤Ÿæ˜æ˜¾ï¼ˆä½¿ç”¨ `-` å­—ç¬¦ï¼Œå»ºè®® 60-70 ä¸ªå­—ç¬¦ï¼‰
- **å·¦å³ä¸¤è¾¹çš„ `-` å­—ç¬¦æ•°é‡åº”è¯¥ä¸€è‡´**
- ä¿æŒåˆ†éš”ç¬¦é•¿åº¦ä¸€è‡´ï¼Œä¾¿äºè§†è§‰è¯†åˆ«
- åœ¨å…¬å…±æ–¹æ³•åŒºåŸŸï¼ŒæŒ‰åŠŸèƒ½åˆ†ç»„ï¼ˆå¦‚æ„é€ æ–¹æ³•ã€é…ç½®æ–¹æ³•ã€ä¸šåŠ¡æ–¹æ³•ï¼‰
- åœ¨ç§æœ‰æ–¹æ³•åŒºåŸŸï¼Œå¯ä»¥æŒ‰è°ƒç”¨å…³ç³»æˆ–åŠŸèƒ½åˆ†ç»„
- å¯¹äºç®€å•çš„æ–‡ä»¶ï¼ˆå°‘äº 10 ä¸ªæ–¹æ³•ï¼‰ï¼Œå¯ä»¥çœç•¥åˆ†éš”ç¬¦
- å¯¹äºå¤æ‚çš„æ–‡ä»¶ï¼ˆå¤šä¸ªç»“æ„ä½“ã€å¤šä¸ªæ–¹æ³•ï¼‰ï¼Œå¼ºçƒˆå»ºè®®ä½¿ç”¨åˆ†éš”ç¬¦

**ç»„ç»‡é¡ºåºå»ºè®®**ï¼š
1. **åŒ…å£°æ˜å’Œå¯¼å…¥**
2. **å˜é‡å’Œå¸¸é‡å£°æ˜**
3. **ç±»å‹å®šä¹‰**
4. **å…¬å…±æ–¹æ³•åŒºåŸŸ**ï¼ˆä½¿ç”¨åˆ†éš”ç¬¦ï¼‰
   - æ„é€ æ–¹æ³•
   - é…ç½®æ–¹æ³•
   - ä¸šåŠ¡æ–¹æ³•
5. **ç§æœ‰æ–¹æ³•åŒºåŸŸ**ï¼ˆä½¿ç”¨åˆ†éš”ç¬¦ï¼‰
   - è¾…åŠ©æ–¹æ³•
   - å†…éƒ¨å®ç°

---

## âš ï¸ é”™è¯¯å¤„ç†

### é”™è¯¯åŒ…è£…

ä½¿ç”¨ `fmt.Errorf` å’Œ `%w` åŠ¨è¯åŒ…è£…é”™è¯¯ï¼Œä¿ç•™åŸå§‹é”™è¯¯ä¿¡æ¯ï¼š

```go
if err != nil {
	return nil, fmt.Errorf("failed to create pull request: %w", err)
}
```

### é”™è¯¯ä¸Šä¸‹æ–‡

åœ¨é”™è¯¯æ¶ˆæ¯ä¸­æ·»åŠ è¶³å¤Ÿçš„ä¸Šä¸‹æ–‡ä¿¡æ¯ï¼š

```go
if err != nil {
	return nil, fmt.Errorf("failed to create PR for %s/%s: %w", owner, repo, err)
}
```

### é”™è¯¯æ£€æŸ¥

å§‹ç»ˆæ£€æŸ¥é”™è¯¯ï¼Œä¸è¦å¿½ç•¥ï¼š

```go
// âŒ é”™è¯¯ï¼šå¿½ç•¥é”™è¯¯
result, _ := someFunction()

// âœ… æ­£ç¡®ï¼šæ£€æŸ¥é”™è¯¯
result, err := someFunction()
if err != nil {
	return fmt.Errorf("operation failed: %w", err)
}
```

### è‡ªå®šä¹‰é”™è¯¯ç±»å‹

å¯¹äºéœ€è¦åŒºåˆ†å¤„ç†çš„é”™è¯¯ï¼Œå®šä¹‰è‡ªå®šä¹‰é”™è¯¯ç±»å‹ï¼š

```go
// ErrNotFound è¡¨ç¤ºèµ„æºæœªæ‰¾åˆ°
var ErrNotFound = errors.New("resource not found")

// ErrUnauthorized è¡¨ç¤ºæœªæˆæƒ
var ErrUnauthorized = errors.New("unauthorized")
```

---

## ğŸ“ æ–‡æ¡£è§„èŒƒ

### å…¬å…± API æ–‡æ¡£

æ‰€æœ‰å…¬å¼€çš„å‡½æ•°ã€ç±»å‹ã€å¸¸é‡éƒ½åº”è¯¥æœ‰æ–‡æ¡£æ³¨é‡Šï¼š

```go
// CreatePullRequest åˆ›å»ºæ–°çš„ Pull Request
// å‚æ•°ï¼š
//   - input: PR åˆ›å»ºè¾“å…¥å‚æ•°ï¼ŒåŒ…å« ownerã€repoã€titleã€bodyã€headã€base
// è¿”å›ï¼š
//   - *PullRequest: åˆ›å»ºçš„ PR ä¿¡æ¯
//   - error: å¦‚æœåˆ›å»ºå¤±è´¥ï¼Œè¿”å›é”™è¯¯
// ç¤ºä¾‹ï¼š
//   input := CreatePullRequestInput{
//       Owner: "owner",
//       Repo:  "repo",
//       Title: "title",
//       Body:  "body",
//       Head:  "feature-branch",
//       Base:  "main",
//   }
//   pr, err := client.CreatePullRequest(input)
func (c *Client) CreatePullRequest(input CreatePullRequestInput) (*PullRequest, error) {
	// å®ç°
}
```

### æ–‡æ¡£æ³¨é‡Šæ ¼å¼

- ä½¿ç”¨ `//` ä¸ºå…¬å…±é¡¹æ·»åŠ æ–‡æ¡£
- ç¬¬ä¸€è¡Œåº”è¯¥æ˜¯ç®€æ´çš„æ‘˜è¦
- å¯ä»¥åŒ…å«å‚æ•°è¯´æ˜ã€è¿”å›å€¼è¯´æ˜ã€é”™è¯¯è¯´æ˜ã€ä½¿ç”¨ç¤ºä¾‹

### å†…éƒ¨æ–‡æ¡£

å¯¹äºå¤æ‚çš„å®ç°é€»è¾‘ï¼Œæ·»åŠ å†…éƒ¨æ³¨é‡Šï¼š

```go
// ä½¿ç”¨æŒ‡æ•°é€€é¿ç­–ç•¥è¿›è¡Œé‡è¯•
// åˆå§‹å»¶è¿Ÿ 1 ç§’ï¼Œæ¯æ¬¡é‡è¯•å»¶è¿Ÿç¿»å€ï¼Œæœ€å¤§å»¶è¿Ÿ 60 ç§’
delay := time.Duration(1<<retryCount) * time.Second
if delay > 60*time.Second {
	delay = 60 * time.Second
}
```

---

## ğŸ·ï¸ å‘½åè§„èŒƒ

### æ–‡ä»¶å‘½å

- **æºæ–‡ä»¶**ï¼š`snake_case.go`ï¼ˆå¦‚ `jira_client.go`ã€`pr_helpers.go`ï¼‰
- **æµ‹è¯•æ–‡ä»¶**ï¼š`snake_case_test.go`ï¼ˆä¸æºæ–‡ä»¶åŒåï¼Œæ·»åŠ  `_test` åç¼€ï¼‰
- **æ–‡æ¡£æ–‡ä»¶**ï¼š`SCREAMING_SNAKE_CASE.md`ï¼ˆå¦‚ `DEVELOPMENT_GUIDELINES.md`ã€`PR_ARCHITECTURE.md`ï¼‰
  - **æ¶æ„æ–‡æ¡£**ï¼š`{MODULE}_ARCHITECTURE.md`ï¼ˆå¦‚ `PR_ARCHITECTURE.md`ã€`GIT_ARCHITECTURE.md`ï¼‰
  - **å‘½ä»¤æ–‡æ¡£**ï¼š`{MODULE}_COMMAND_ARCHITECTURE.md`ï¼ˆå¦‚ `PR_COMMAND_ARCHITECTURE.md`ï¼‰
  - **æŒ‡å—æ–‡æ¡£**ï¼š`{TOPIC}_GUIDELINES.md`ï¼ˆå¦‚ `DEVELOPMENT_GUIDELINES.md`ã€`DOCUMENT_GUIDELINES.md`ï¼‰

### å‡½æ•°å‘½å

- **åŠ¨ä½œå‡½æ•°**ï¼šä½¿ç”¨åŠ¨è¯ï¼ˆå¦‚ `Create`ã€`Get`ã€`Update`ã€`Delete`ï¼‰
- **æŸ¥è¯¢å‡½æ•°**ï¼šä½¿ç”¨ `Get` å‰ç¼€ï¼ˆå¦‚ `GetStatus`ã€`GetInfo`ï¼‰
- **æ£€æŸ¥å‡½æ•°**ï¼šä½¿ç”¨ `Is` æˆ– `Has` å‰ç¼€ï¼ˆå¦‚ `IsValid`ã€`HasPermission`ï¼‰
- **è½¬æ¢å‡½æ•°**ï¼šä½¿ç”¨ `To` å‰ç¼€ï¼ˆå¦‚ `ToString`ã€`ToJSON`ï¼‰

### ç»“æ„ä½“å‘½å

- ä½¿ç”¨åè¯æˆ–åè¯çŸ­è¯­ï¼ˆå¦‚ `HttpClient`ã€`JiraTicket`ï¼‰
- é¿å…ä½¿ç”¨ `Data`ã€`Info`ã€`Manager` ç­‰æ³›åŒ–åç§°ï¼Œä½¿ç”¨å…·ä½“åç§°

### å¸¸é‡å‘½å

- ä½¿ç”¨é©¼å³°å‘½åï¼Œé¦–å­—æ¯å¤§å†™
- æ”¾åœ¨åŒ…é¡¶å±‚æˆ–ä¸“é—¨çš„å¸¸é‡æ–‡ä»¶ä¸­

```go
// internal/jira/constants.go
const (
	MaxDownloadSize = 100 * 1024 * 1024 // 100MB
	DefaultTimeout  = 30 * time.Second
)
```

---

## ğŸ“ æ¨¡å—ç»„ç»‡

### ç›®å½•ç»“æ„

éµå¾ªé¡¹ç›®çš„ä¸‰å±‚æ¶æ„ï¼š

```
go-version/
â”œâ”€â”€ cmd/                    # CLI å…¥å£
â”‚   â””â”€â”€ qkflow/
â”‚       â”œâ”€â”€ main.go
â”‚       â””â”€â”€ commands/
â”œâ”€â”€ internal/               # å†…éƒ¨åŒ…
â”‚   â”œâ”€â”€ github/            # GitHub å®¢æˆ·ç«¯
â”‚   â”œâ”€â”€ jira/              # Jira å®¢æˆ·ç«¯
â”‚   â”œâ”€â”€ git/               # Git æ“ä½œ
â”‚   â”œâ”€â”€ config/            # é…ç½®ç®¡ç†
â”‚   â””â”€â”€ ...
â””â”€â”€ docs/                   # æ–‡æ¡£
    â”œâ”€â”€ guidelines/        # æ‰€æœ‰æŒ‡å—
    â”‚   â”œâ”€â”€ usage/         # ç”¨æˆ·ä½¿ç”¨æŒ‡å—
    â”‚   â””â”€â”€ development/   # å¼€å‘æŒ‡å—
    â”œâ”€â”€ architecture/      # æ¶æ„æ–‡æ¡£
    â””â”€â”€ ...
```

### æ¨¡å—èŒè´£

- **`cmd/`**ï¼šCLI å‘½ä»¤å…¥å£ï¼Œå¤„ç†ç”¨æˆ·äº¤äº’ã€å‚æ•°è§£æ
- **`internal/`**ï¼šæ ¸å¿ƒä¸šåŠ¡é€»è¾‘ï¼Œå¯å¤ç”¨çš„åŠŸèƒ½æ¨¡å—
- **`docs/`**ï¼šé¡¹ç›®æ–‡æ¡£

### æ¨¡å—ä¾èµ–è§„åˆ™

- **å‘½ä»¤å±‚** â†’ **å†…éƒ¨åŒ…**ï¼šå‘½ä»¤å±‚å¯ä»¥ä¾èµ–å†…éƒ¨åŒ…ï¼Œä½†ä¸èƒ½åå‘ä¾èµ–
- **å†…éƒ¨åŒ…ä¹‹é—´**ï¼šå¯ä»¥ç›¸äº’ä¾èµ–ï¼Œä½†é¿å…å¾ªç¯ä¾èµ–
- **åŸºç¡€æ¨¡å—**ï¼š`internal/config/` ç­‰åŸºç¡€æ¨¡å—ä¸ä¾èµ–å…¶ä»–ä¸šåŠ¡æ¨¡å—

---

## ğŸ”€ Git å·¥ä½œæµ

### åˆ†æ”¯ç­–ç•¥

- **`master`**ï¼šä¸»åˆ†æ”¯ï¼Œä¿æŒç¨³å®šï¼Œåªæ¥å—åˆå¹¶è¯·æ±‚
- **`feature/*`**ï¼šåŠŸèƒ½åˆ†æ”¯ï¼Œä» `master` åˆ›å»ºï¼Œå®Œæˆååˆå¹¶å› `master`
- **`fix/*`**ï¼šä¿®å¤åˆ†æ”¯ï¼Œä» `master` åˆ›å»ºï¼Œç”¨äºä¿®å¤ bug
- **`hotfix/*`**ï¼šçƒ­ä¿®å¤åˆ†æ”¯ï¼Œç”¨äºç´§æ€¥ä¿®å¤ç”Ÿäº§é—®é¢˜

### åˆ†æ”¯å‘½å

- åŠŸèƒ½åˆ†æ”¯ï¼š`feature/jira-attachments`
- ä¿®å¤åˆ†æ”¯ï¼š`fix/pr-merge-error`
- çƒ­ä¿®å¤åˆ†æ”¯ï¼š`hotfix/critical-bug`

### å·¥ä½œæµç¨‹

1. **åˆ›å»ºåˆ†æ”¯**ï¼šä» `master` åˆ›å»ºæ–°åˆ†æ”¯
2. **å¼€å‘**ï¼šåœ¨åˆ†æ”¯ä¸Šè¿›è¡Œå¼€å‘
3. **æäº¤**ï¼šéµå¾ªæäº¤è§„èŒƒï¼ˆè§ä¸‹æ–¹ï¼‰
4. **æ¨é€**ï¼šæ¨é€åˆ°è¿œç¨‹ä»“åº“
5. **åˆ›å»º PR**ï¼šåˆ›å»º Pull Request åˆ° `master`
6. **ä»£ç å®¡æŸ¥**ï¼šç­‰å¾…ä»£ç å®¡æŸ¥
7. **åˆå¹¶**ï¼šå®¡æŸ¥é€šè¿‡ååˆå¹¶åˆ° `master`

---

## ğŸ“‹ æäº¤è§„èŒƒ

### Conventional Commits

ä½¿ç”¨ [Conventional Commits](https://www.conventionalcommits.org/) æ ¼å¼ï¼š

```
<type>(<scope>): <subject>

<body>

<footer>
```

### æäº¤ç±»å‹

- **`feat`**ï¼šæ–°åŠŸèƒ½
- **`fix`**ï¼šBug ä¿®å¤
- **`docs`**ï¼šæ–‡æ¡£æ›´æ–°
- **`style`**ï¼šä»£ç æ ¼å¼ï¼ˆä¸å½±å“ä»£ç è¿è¡Œçš„å˜åŠ¨ï¼‰
- **`refactor`**ï¼šé‡æ„ï¼ˆæ—¢ä¸æ˜¯æ–°åŠŸèƒ½ä¹Ÿä¸æ˜¯ bug ä¿®å¤ï¼‰
- **`perf`**ï¼šæ€§èƒ½ä¼˜åŒ–
- **`test`**ï¼šæµ‹è¯•ç›¸å…³
- **`chore`**ï¼šæ„å»ºè¿‡ç¨‹æˆ–è¾…åŠ©å·¥å…·çš„å˜åŠ¨

### æäº¤ç¤ºä¾‹

```
feat(pr): add support for PR approval with URL

Add ability to approve PRs using GitHub URLs, not just PR numbers.
This allows approving PRs from any repository without being in the git directory.

Closes #123
```

```
fix(jira): handle empty ticket gracefully

When Jira ticket is empty, return a clear error message instead of panicking.

Fixes #456
```

---

## ğŸ§ª æµ‹è¯•è§„èŒƒ

### æµ‹è¯•æ–‡ä»¶

- æµ‹è¯•æ–‡ä»¶ä¸æºæ–‡ä»¶æ”¾åœ¨åŒä¸€åŒ…ä¸­
- æµ‹è¯•æ–‡ä»¶å‘½åï¼š`*_test.go`
- æµ‹è¯•å‡½æ•°å‘½åï¼š`TestXxx`ï¼ˆXxx ä¸ºè¢«æµ‹è¯•çš„å‡½æ•°åï¼‰

### æµ‹è¯•ç»„ç»‡

ä½¿ç”¨è¡¨é©±åŠ¨æµ‹è¯•ï¼ˆTable-Driven Testsï¼‰å¤„ç†å¤šä¸ªæµ‹è¯•ç”¨ä¾‹ï¼š

```go
func TestCreatePullRequest(t *testing.T) {
	tests := []struct {
		name    string
		input   CreatePullRequestInput
		wantErr bool
	}{
		{
			name: "valid input",
			input: CreatePullRequestInput{
				Owner: "owner",
				Repo:  "repo",
				Title: "title",
				Body:  "body",
				Head:  "feature",
				Base:  "main",
			},
			wantErr: false,
		},
		{
			name: "empty title",
			input: CreatePullRequestInput{
				Owner: "owner",
				Repo:  "repo",
				Title: "",
				Body:  "body",
				Head:  "feature",
				Base:  "main",
			},
			wantErr: true,
		},
	}

	for _, tt := range tests {
		t.Run(tt.name, func(t *testing.T) {
			// æµ‹è¯•é€»è¾‘
		})
	}
}
```

### æµ‹è¯•è¦†ç›–ç‡

- ç›®æ ‡è¦†ç›–ç‡ï¼šè‡³å°‘ 70%
- å…³é”®åŠŸèƒ½ï¼šè‡³å°‘ 90%
- è¿è¡Œæµ‹è¯•ï¼š`go test -cover ./...`

---

## ğŸ‘€ ä»£ç å®¡æŸ¥

### å®¡æŸ¥æ¸…å•

- [ ] ä»£ç æ ¼å¼æ­£ç¡®ï¼ˆ`go fmt`ï¼‰
- [ ] Lint æ£€æŸ¥é€šè¿‡ï¼ˆ`golangci-lint`ï¼‰
- [ ] æµ‹è¯•é€šè¿‡ï¼ˆ`go test`ï¼‰
- [ ] æµ‹è¯•è¦†ç›–ç‡è¾¾æ ‡
- [ ] æ–‡æ¡£æ³¨é‡Šå®Œæ•´
- [ ] é”™è¯¯å¤„ç†æ­£ç¡®
- [ ] æ— ç¡¬ç¼–ç å€¼
- [ ] æ—  TODO æˆ– FIXMEï¼ˆé™¤éæœ‰ issue è·Ÿè¸ªï¼‰

### å®¡æŸ¥é‡ç‚¹

- **åŠŸèƒ½æ­£ç¡®æ€§**ï¼šä»£ç æ˜¯å¦å®ç°äº†é¢„æœŸåŠŸèƒ½
- **é”™è¯¯å¤„ç†**ï¼šæ˜¯å¦å¦¥å–„å¤„ç†äº†æ‰€æœ‰é”™è¯¯æƒ…å†µ
- **æ€§èƒ½**ï¼šæ˜¯å¦æœ‰æ€§èƒ½é—®é¢˜
- **å®‰å…¨æ€§**ï¼šæ˜¯å¦æœ‰å®‰å…¨éšæ‚£
- **å¯ç»´æŠ¤æ€§**ï¼šä»£ç æ˜¯å¦æ˜“äºç†è§£å’Œç»´æŠ¤

---

## ğŸ“¦ ä¾èµ–ç®¡ç†

### æ·»åŠ ä¾èµ–

```bash
# æ·»åŠ ä¾èµ–
go get github.com/example/package

# æ·»åŠ ç‰¹å®šç‰ˆæœ¬
go get github.com/example/package@v1.2.3

# æ›´æ–°ä¾èµ–
go get -u ./...
```

### ç‰ˆæœ¬ç®¡ç†

- ä½¿ç”¨ `go.mod` ç®¡ç†ä¾èµ–
- å®šæœŸæ›´æ–°ä¾èµ–ï¼š`go get -u ./...`
- æ£€æŸ¥è¿‡æ—¶ä¾èµ–ï¼š`go list -u -m all`

### ä¾èµ–åŸåˆ™

- ä¼˜å…ˆä½¿ç”¨æ ‡å‡†åº“
- é€‰æ‹©ç»´æŠ¤æ´»è·ƒçš„ç¬¬ä¸‰æ–¹åº“
- é¿å…å¼•å…¥ä¸å¿…è¦çš„ä¾èµ–
- å®šæœŸå®¡æŸ¥å’Œæ›´æ–°ä¾èµ–

---

## ğŸ› ï¸ å¼€å‘å·¥å…·

### å¿…éœ€å·¥å…·

- **Go 1.21+**ï¼šç¼–ç¨‹è¯­è¨€
- **Make**ï¼šæ„å»ºå·¥å…·
- **Git**ï¼šç‰ˆæœ¬æ§åˆ¶
- **golangci-lint**ï¼šä»£ç æ£€æŸ¥

### å¸¸ç”¨å‘½ä»¤

```bash
# æ ¼å¼åŒ–ä»£ç 
make fmt

# è¿è¡Œ lint
make lint

# æ„å»º
make build

# è¿è¡Œæµ‹è¯•
make test

# è¿è¡Œæµ‹è¯•å¹¶ç”Ÿæˆè¦†ç›–ç‡æŠ¥å‘Š
make coverage

# æ¸…ç†æ„å»ºäº§ç‰©
make clean
```

---

## ğŸ”— ç›¸å…³æ–‡æ¡£

- [æ–‡æ¡£ç¼–å†™æŒ‡å—](./DOCUMENT_GUIDELINES.md) - æ–‡æ¡£ç¼–å†™è§„èŒƒå’Œæ¨¡æ¿ï¼ˆåŒç›®å½•ï¼‰
- [é¡¹ç›®æ¶æ„](../architecture/ARCHITECTURE.md) - é¡¹ç›®æ¶æ„æ–‡æ¡£ï¼ˆåŒ…å«æ¦‚è¿°å’Œç»“æ„ï¼‰

---

*æ–‡æ¡£ç‰ˆæœ¬ï¼š1.0*
*æœ€åæ›´æ–°ï¼š2025-12-05*

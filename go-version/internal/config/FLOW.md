# Config é…ç½®ç®¡ç†é€»è¾‘æµç¨‹å›¾

## ğŸ“‹ æ¦‚è¿°

`config` åŒ…é‡‡ç”¨å•ä¾‹æ¨¡å¼ç®¡ç†åº”ç”¨é…ç½®ï¼Œæ”¯æŒä» YAML æ–‡ä»¶å’Œç¯å¢ƒå˜é‡åŠ è½½é…ç½®ï¼Œå¹¶æä¾›é…ç½®éªŒè¯å’Œä¿å­˜åŠŸèƒ½ã€‚

## ğŸ”„ æ ¸å¿ƒæµç¨‹

### 1. é…ç½®åŠ è½½æµç¨‹ (Load)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    config.Load() è°ƒç”¨                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
                       â–¼
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚ globalConfig != nil? â”‚
            â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                     â”‚
       YES                   NO
        â”‚                     â”‚
        â–¼                     â–¼
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ è¿”å›å·²   â”‚    â”‚ è·å–é…ç½®ç›®å½•              â”‚
   â”‚ ç¼“å­˜çš„   â”‚    â”‚ utils.GetQuickWorkflow    â”‚
   â”‚ é…ç½®     â”‚    â”‚ ConfigDir()               â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â–¼
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚ æ„å»ºé…ç½®æ–‡ä»¶è·¯å¾„            â”‚
            â”‚ ~/.qkflow/config.yaml      â”‚
            â”‚ æˆ– iCloud Drive            â”‚
            â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ é…ç½® Viper                            â”‚
    â”‚ - SetConfigFile(configFile)           â”‚
    â”‚ - SetConfigType("yaml")               â”‚
    â”‚ - SetEnvPrefix("QK")                  â”‚
    â”‚ - AutomaticEnv()                      â”‚
    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ ç»‘å®šç¯å¢ƒå˜é‡                           â”‚
    â”‚ - github_token â†’ GITHUB_TOKEN/GH_TOKENâ”‚
    â”‚ - jira_api_token â†’ JIRA_API_TOKEN     â”‚
    â”‚ - openai_key â†’ OPENAI_KEY             â”‚
    â”‚ - ... (å…¶ä»–ç¯å¢ƒå˜é‡)                   â”‚
    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ è¯»å–é…ç½®æ–‡ä»¶                           â”‚
    â”‚ viper.ReadInConfig()                   â”‚
    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”
    â”‚             â”‚
   æˆåŠŸ          å¤±è´¥
    â”‚             â”‚
    â”‚      â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚      â”‚ æ˜¯æ–‡ä»¶ä¸å­˜åœ¨é”™è¯¯? â”‚
    â”‚      â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚             â”‚
    â”‚      â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”
    â”‚      â”‚             â”‚
    â”‚     YES          NO
    â”‚      â”‚             â”‚
    â”‚      â”‚        â”Œâ”€â”€â”€â”€â”€â”˜
    â”‚      â”‚        â”‚
    â”‚      â”‚        â–¼
    â”‚      â”‚  è¿”å›é”™è¯¯
    â”‚      â”‚
    â”‚      â–¼
    â””â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ è®¾ç½®é»˜è®¤å€¼                             â”‚
    â”‚ setDefaults()                         â”‚
    â”‚ - branch_prefix: ""                   â”‚
    â”‚ - auto_update: true                   â”‚
    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ ååºåˆ—åŒ–é…ç½®                           â”‚
    â”‚ viper.Unmarshal(&cfg)                 â”‚
    â”‚ åˆå¹¶ä¼˜å…ˆçº§:                            â”‚
    â”‚ 1. ç¯å¢ƒå˜é‡ (æœ€é«˜ä¼˜å…ˆçº§)                â”‚
    â”‚ 2. é…ç½®æ–‡ä»¶                            â”‚
    â”‚ 3. é»˜è®¤å€¼ (æœ€ä½ä¼˜å…ˆçº§)                  â”‚
    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ ç¼“å­˜åˆ° globalConfig                    â”‚
    â”‚ globalConfig = &cfg                   â”‚
    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ è¿”å›é…ç½®                                â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2. é…ç½®è·å–æµç¨‹ (Get)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          config.Get() è°ƒç”¨               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ globalConfig != nil? â”‚
    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”
    â”‚             â”‚
   YES           NO
    â”‚             â”‚
    â”‚             â–¼
    â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚    â”‚ è°ƒç”¨ config.Load()â”‚
    â”‚    â”‚ (æ‡’åŠ è½½)           â”‚
    â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚             â”‚
    â”‚             â–¼
    â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚    â”‚ è¿”å›é…ç½® (å¯èƒ½nil) â”‚
    â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ è¿”å›å·²   â”‚
â”‚ ç¼“å­˜çš„   â”‚
â”‚ é…ç½®     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3. é…ç½®ä¿å­˜æµç¨‹ (Save)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      config.Save(cfg *Config) è°ƒç”¨      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ è·å–é…ç½®ç›®å½•                  â”‚
    â”‚ utils.GetQuickWorkflow       â”‚
    â”‚ ConfigDir()                  â”‚
    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ æ„å»ºé…ç½®æ–‡ä»¶è·¯å¾„              â”‚
    â”‚ ~/.qkflow/config.yaml        â”‚
    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ å°†é…ç½®å€¼è®¾ç½®åˆ° Viper          â”‚
    â”‚ viper.Set("email", ...)      â”‚
    â”‚ viper.Set("github_token", ...)â”‚
    â”‚ ... (æ‰€æœ‰é…ç½®é¡¹)              â”‚
    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ å†™å…¥é…ç½®æ–‡ä»¶                  â”‚
    â”‚ viper.WriteConfigAs(configFile)â”‚
    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ æ›´æ–°å…¨å±€ç¼“å­˜                  â”‚
    â”‚ globalConfig = cfg            â”‚
    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ è¿”å›ç»“æœ                      â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4. é…ç½®éªŒè¯æµç¨‹ (Validate)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    cfg.Validate() è°ƒç”¨                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Email == ""?         â”‚
    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
      â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”
      â”‚         â”‚
     YES       NO
      â”‚         â”‚
      â–¼         â–¼
  è¿”å›é”™è¯¯   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚ JiraAPIToken == ""?   â”‚
            â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
              â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”
              â”‚         â”‚
             YES       NO
              â”‚         â”‚
              â–¼         â–¼
          è¿”å›é”™è¯¯   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚ JiraServiceAddress    â”‚
                    â”‚ == ""?                â”‚
                    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                      â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”
                      â”‚         â”‚
                     YES       NO
                      â”‚         â”‚
                      â–¼         â–¼
                  è¿”å›é”™è¯¯   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                            â”‚ GitHubToken == ""?    â”‚
                            â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                   â”‚
                              â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”
                              â”‚         â”‚
                             YES       NO
                              â”‚         â”‚
                              â–¼         â–¼
                          è¿”å›é”™è¯¯   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                    â”‚ è¿”å› nil â”‚
                                    â”‚ (éªŒè¯é€šè¿‡)â”‚
                                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 5. é…ç½®æ£€æŸ¥æµç¨‹ (IsConfigured)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    config.IsConfigured() è°ƒç”¨           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ cfg := config.Get()  â”‚
    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ cfg == nil?          â”‚
    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
      â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”
      â”‚         â”‚
     YES       NO
      â”‚         â”‚
      â–¼         â–¼
  â”Œâ”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚è¿”å›  â”‚  â”‚ cfg.Validate() == nil?â”‚
  â”‚false â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
  â””â”€â”€â”€â”€â”€â”€â”˜         â”‚
              â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”
              â”‚         â”‚
             YES       NO
              â”‚         â”‚
              â–¼         â–¼
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”
         â”‚è¿”å›true â”‚  â”‚è¿”å›  â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚false â”‚
                     â””â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ“Š é…ç½®æ¥æºä¼˜å…ˆçº§

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           é…ç½®å€¼æ¥æºä¼˜å…ˆçº§ (ä»é«˜åˆ°ä½)          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                             â”‚
â”‚  1. ç¯å¢ƒå˜é‡ (æœ€é«˜ä¼˜å…ˆçº§)                     â”‚
â”‚     - QK_* å‰ç¼€ç¯å¢ƒå˜é‡                      â”‚
â”‚     - ç‰¹å®šç¯å¢ƒå˜é‡ (GITHUB_TOKEN, etc.)       â”‚
â”‚                                             â”‚
â”‚  2. YAML é…ç½®æ–‡ä»¶                            â”‚
â”‚     - ~/.qkflow/config.yaml                 â”‚
â”‚     - æˆ– iCloud Drive/.qkflow/config.yaml   â”‚
â”‚                                             â”‚
â”‚  3. é»˜è®¤å€¼ (æœ€ä½ä¼˜å…ˆçº§)                       â”‚
â”‚     - branch_prefix: ""                     â”‚
â”‚     - auto_update: true                     â”‚
â”‚                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ”— é…ç½®ä½¿ç”¨åœºæ™¯

### åº”ç”¨å¯åŠ¨æ—¶ (root.go)
```
å‘½ä»¤æ‰§è¡Œ
  â””â”€> PersistentPreRun
      â””â”€> config.Load()
          â””â”€> config.IsConfigured()
              â””â”€> æ£€æŸ¥é…ç½®å®Œæ•´æ€§
```

### åˆå§‹åŒ–é…ç½®æ—¶ (init.go)
```
qkflow init
  â””â”€> äº¤äº’å¼è¾“å…¥é…ç½®
      â””â”€> config.Save(cfg)
          â””â”€> ä¿å­˜åˆ° YAML æ–‡ä»¶
```

### å®¢æˆ·ç«¯åˆ›å»ºæ—¶
```
github.NewClient()
  â””â”€> config.Get()
      â””â”€> è·å– GitHubToken

jira.NewClient()
  â””â”€> config.Get()
      â””â”€> è·å– JiraAPIToken, JiraServiceAddress

ai.NewClient()
  â””â”€> config.Get()
      â””â”€> è·å– OpenAIKey/DeepSeekKey
```

### å®ˆæŠ¤è¿›ç¨‹é‡è½½æ—¶ (watcher/daemon.go)
```
å®ˆæŠ¤è¿›ç¨‹è¿è¡Œä¸­
  â””â”€> reloadConfig()
      â””â”€> config.Load()
          â””â”€> é‡æ–°åŠ è½½é…ç½®ï¼ˆæ¸…é™¤ç¼“å­˜ï¼‰
```

## ğŸ¯ å…³é”®è®¾è®¡ç‚¹

1. **å•ä¾‹æ¨¡å¼**: ä½¿ç”¨ `globalConfig` å˜é‡ç¼“å­˜é…ç½®ï¼Œé¿å…é‡å¤åŠ è½½
2. **æ‡’åŠ è½½**: `Get()` å‡½æ•°åœ¨é…ç½®æœªåŠ è½½æ—¶è‡ªåŠ¨è°ƒç”¨ `Load()`
3. **å¤šæºé…ç½®**: æ”¯æŒç¯å¢ƒå˜é‡ã€é…ç½®æ–‡ä»¶ã€é»˜è®¤å€¼ä¸‰ç§æ¥æº
4. **é…ç½®éªŒè¯**: æä¾› `Validate()` æ–¹æ³•ç¡®ä¿å¿…éœ€é…ç½®é¡¹å­˜åœ¨
5. **é…ç½®æŒä¹…åŒ–**: `Save()` æ–¹æ³•å°†é…ç½®å†™å…¥ YAML æ–‡ä»¶
6. **è·¨è®¾å¤‡åŒæ­¥**: macOS ä¸Šä¼˜å…ˆä½¿ç”¨ iCloud Drive å­˜å‚¨é…ç½®

## ğŸ“ é…ç½®é¡¹è¯´æ˜

| é…ç½®é¡¹ | ç±»å‹ | å¿…éœ€ | è¯´æ˜ |
|--------|------|------|------|
| Email | string | âœ… | ç”¨æˆ·é‚®ç®± |
| JiraAPIToken | string | âœ… | Jira API Token |
| JiraServiceAddress | string | âœ… | Jira æœåŠ¡åœ°å€ |
| GitHubToken | string | âœ… | GitHub Personal Access Token |
| GitHubOwner | string | âŒ | GitHub ç”¨æˆ·å/ç»„ç»‡ |
| GitHubRepo | string | âŒ | GitHub ä»“åº“å |
| BranchPrefix | string | âŒ | åˆ†æ”¯å‰ç¼€ |
| OpenAIKey | string | âŒ | OpenAI API Key |
| DeepSeekKey | string | âŒ | DeepSeek API Key |
| OpenAIProxyURL | string | âŒ | OpenAI ä»£ç† URL |
| OpenAIProxyKey | string | âŒ | OpenAI ä»£ç† Key |
| AutoUpdate | bool | âŒ | è‡ªåŠ¨æ›´æ–°å¼€å…³ (é»˜è®¤: true) |

